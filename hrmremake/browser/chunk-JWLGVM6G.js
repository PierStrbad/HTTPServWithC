import{A as H,b as q,d as r,f as E,g as N,i as I,k as A,l as T,m as j,n as z,o as B,p as D,q as G,r as L,u as V,x as Z,y as $}from"./chunk-A3R7A6WC.js";import{Fa as S,Ga as R,ba as v,da as k,ea as x,fa as y,ga as F,m as w,o as O}from"./chunk-73R3LSIQ.js";import{Ab as n,Bb as i,Cb as d,Jb as l,Vb as o,Wb as _,Xb as M,Ya as e,Za as p,bc as h,cc as b,jb as g,la as P,qb as C,rb as a}from"./chunk-7U7RWSPH.js";var J=()=>["/"],lt=(()=>{class m{constructor(s,c,t){this.fb=s,this.notifiServ=c,this.accountServ=t,this.emailFormControl=new I("",[r.required,r.email]),this.hidePassword=g(!0),this.hideConfirmPassword=g(!0)}ngOnInit(){this.resetF=this.fb.nonNullable.group({Email:["",[r.required,r.email]],ResetCode:["",[r.required,r.pattern("^[0-9A-Z]+$")]],NewPassword:["",[r.required,r.pattern("^[a-zA-Z0-9@!&_+?=]+$")]],ConfirmPassword:["",[r.required,r.pattern("^[a-zA-Z0-9@!&_+?=]+$")]]})}clickEventPassword(s){this.hidePassword.set(!this.hidePassword()),s.stopPropagation()}clickEventConfirmPassword(s){this.hideConfirmPassword.set(!this.hideConfirmPassword()),s.stopPropagation()}resetPassword(){if(this.resetF.valid)if(this.resetF.value.NewPassword===this.resetF.value.ConfirmPassword){let s={NewPassword:this.resetF.value.NewPassword,AccountCode:this.resetF.value.ResetCode};this.accountServ.resetAccountPassword(s).subscribe(()=>{this.notifiServ.openSnackbar("Password was successfull"),this.resetF.reset()})}else this.resetF.controls.NewPassword.markAsTouched(),this.resetF.controls.ConfirmPassword.markAsTouched(),this.notifiServ.openSnackbar("Password \u2260 Confirm Password");else this.notifiServ.openSnackbar("Please fill in the form"),this.resetF.markAllAsTouched()}requestResetCode(){this.emailFormControl.valid?this.accountServ.requestResetCode(this.emailFormControl.value).subscribe(()=>{this.notifiServ.openSnackbar("Reset code sent, check your inbox"),this.emailFormControl.reset()}):(this.notifiServ.openSnackbar("Enter a valid email address"),this.emailFormControl.markAllAsTouched())}static{this.\u0275fac=function(c){return new(c||m)(p(B),p(S),p(R))}}static{this.\u0275cmp=P({type:m,selectors:[["app-forgot-password"]],standalone:!0,features:[h],decls:37,vars:16,consts:[[2,"height","100%","display","flex","justify-content","center","align-items","center"],[1,"container"],[1,"header"],["id","text"],[3,"formGroup"],["id","requestCode_container"],["id","item-1","appearance","outline",3,"hideRequiredMarker"],["matInput","","type","email",3,"formControl"],["id","send-code","id","item-2",3,"click"],["id","item-3","appearance","outline",3,"hideRequiredMarker"],["matInput","","type","text","formControlName","ResetCode"],["id","item-4","appearance","outline",3,"hideRequiredMarker"],["matInput","","formControlName","NewPassword",3,"type"],["type","button","mat-icon-button","","matSuffix","","id","item-5",3,"click"],["id","item-6","appearance","outline",3,"hideRequiredMarker"],["matInput","","formControlName","ConfirmPassword",3,"type"],["type","button","mat-icon-button","","matSuffix","","id","item-7",3,"click"],[1,"buttons"],["mat-button","","id","reset-btn",3,"click"],["id","back-btn",3,"routerLink"]],template:function(c,t){c&1&&(n(0,"main",0)(1,"div",1)(2,"div",2)(3,"span",3)(4,"b"),o(5,"Reset Password"),i()()(),n(6,"form",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),o(10," Email "),i(),d(11,"input",7),i(),n(12,"a",8),l("click",function(){return t.requestResetCode()}),o(13," Request Code "),i()(),n(14,"mat-form-field",9)(15,"mat-label"),o(16," Reset Code "),i(),d(17,"input",10),i(),n(18,"mat-form-field",11)(19,"mat-label"),o(20," New Password "),i(),d(21,"input",12),n(22,"button",13),l("click",function(f){return t.clickEventPassword(f)}),n(23,"mat-icon"),o(24),i()()(),n(25,"mat-form-field",14)(26,"mat-label"),o(27," Confirm New Password "),i(),d(28,"input",15),n(29,"button",16),l("click",function(f){return t.clickEventConfirmPassword(f)}),n(30,"mat-icon"),o(31),i()()()(),n(32,"div",17)(33,"button",18),l("click",function(){return t.resetPassword()}),o(34," Reset Password "),i(),n(35,"a",19),o(36," Back "),i()()()()),c&2&&(e(6),a("formGroup",t.resetF),e(2),a("hideRequiredMarker",!0),e(3),a("formControl",t.emailFormControl),e(3),a("hideRequiredMarker",!0),e(4),a("hideRequiredMarker",!0),e(3),a("type",t.hidePassword()?"password":"text"),e(),C("aria-label","Hide password")("aria-pressed",t.hidePassword()),e(2),M(" ",t.hidePassword()?"visibility_off":"visibility"," "),e(),a("hideRequiredMarker",!0),e(3),a("type",t.hideConfirmPassword()?"password":"text"),e(),C("aria-label","Hide password")("aria-pressed",t.hideConfirmPassword()),e(2),_(t.hideConfirmPassword()?"visibility_off":"visibility"),e(4),a("routerLink",b(15,J)))},dependencies:[D,A,q,E,N,G,T,j,z,$,Z,L,V,x,v,k,F,y,H,O,w],styles:['.container[_ngcontent-%COMP%]{width:calc(30% - 5em);position:relative;display:grid;grid-template-rows:auto 2fr auto;place-items:center;gap:35px;box-sizing:border-box}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:26px;position:relative;width:100%;display:flex;justify-content:center;align-items:flex-start}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(to left,#3f5efb,#fc466b);width:250px;height:2.5px;bottom:-5px;left:50%;transform:translate(-50%)}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-rows:repeat(4,auto);place-items:baseline;justify-items:center;column-gap:10px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-2[_ngcontent-%COMP%]{font-size:16px;margin-top:-15px;text-align:center}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-2[_ngcontent-%COMP%]:hover{cursor:pointer;background:linear-gradient(to left,#3f5efb,#fc466b);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-5[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-7[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-4[_ngcontent-%COMP%]{grid-area:3 / 1 / 4 / 2}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-5[_ngcontent-%COMP%]{grid-area:3 / 2 / 4 / 3}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-6[_ngcontent-%COMP%]{grid-area:4 / 1 / 5 / 2}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:15px;margin-top:-5%}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #reset-btn[_ngcontent-%COMP%]{transition:.3s;color:#000;font-size:18px}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #reset-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to left,#3f5efb,#fc466b);color:#fff}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #back-btn[_ngcontent-%COMP%]{text-decoration:none;color:inherit;font-size:16px;position:relative}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #back-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background:linear-gradient(to left,#3f5efb,#fc466b);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #back-btn[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(to left,#3f5efb,#fc466b);width:0;height:2px;position:absolute;bottom:-1px;left:50%;transform:translate(-50%);transform-origin:50% 50%;transition:1s ease}.container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #back-btn[_ngcontent-%COMP%]:hover:after{width:65px}.container[_ngcontent-%COMP%]   #requestCode_container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:30px}.container[_ngcontent-%COMP%]   #requestCode_container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-3[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #item-6[_ngcontent-%COMP%]{width:80%;justify-content:center}@media screen and (min-width: 1024px) and (max-width: 1250px){.container[_ngcontent-%COMP%]{width:calc(50% - 5em)}}@media screen and (min-width: 700px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{width:calc(40% + 1em)}}@media screen and (min-width: 300px) and (max-width: 700px){.container[_ngcontent-%COMP%]{width:calc(100% - 5em)}}']})}}return m})();export{lt as ForgotPasswordComponent};
